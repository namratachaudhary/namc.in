<!doctype html><html lang=en><head><title>Understanding Observability (and the family) in Cloud Infrastructure :: __namc</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="This blog post is divided in two parts -
 Understanding the terminlogogies in Observability Ecosystem and corresponding tools How you can use some bare-minimum tooling to improve observability in your kubernetes cluster  Terminologies in Observability Ecosystem With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS &amp;amp; Network monitoring, as well as capturing telemetry and kubernetes events."><meta name=keywords content="cloud,kubernetes,monitoring,logging"><meta name=robots content="noodp"><link rel=canonical href=/posts/cloud-observability/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/blue.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/img/favicon/blue.png><meta name=twitter:card content="summary"><meta name=twitter:title content="Understanding Observability (and the family) in Cloud Infrastructure :: __namc —"><meta name=twitter:description content="This blog post is divided in two parts -
 Understanding the terminlogogies in Observability Ecosystem and corresponding tools How you can use some bare-minimum tooling to improve observability in your kubernetes cluster  Terminologies in Observability Ecosystem With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS &amp;amp; Network monitoring, as well as capturing telemetry and kubernetes events."><meta name=twitter:site content="/"><meta name=twitter:creator content><meta name=twitter:image content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Understanding Observability (and the family) in Cloud Infrastructure :: __namc —"><meta property="og:description" content="This blog post is divided in two parts -
 Understanding the terminlogogies in Observability Ecosystem and corresponding tools How you can use some bare-minimum tooling to improve observability in your kubernetes cluster  Terminologies in Observability Ecosystem With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS &amp;amp; Network monitoring, as well as capturing telemetry and kubernetes events."><meta property="og:url" content="/posts/cloud-observability/"><meta property="og:site_name" content="Understanding Observability (and the family) in Cloud Infrastructure"><meta property="og:image" content><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2020-05-11 16:25:12 +0200 +0200"></head><body><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>__namc</div></a></div><div class=menu-trigger>menu</div></div></header><div class=content><div class=post><h1 class=post-title><a href=/posts/cloud-observability/>Understanding Observability (and the family) in Cloud Infrastructure</a></h1><div class=post-meta><span class=post-date>May 11, 2020</span></div><span class=post-tags>#<a href=/tags/devops/>Devops</a>&nbsp;</span><div class=post-content><div><p>This blog post is divided in two parts -</p><ol><li><a href=#https://namc.in/posts/cloud-observability/#terminologies-in-observability-ecosystem>Understanding the terminlogogies in Observability Ecosystem and corresponding tools</a></li><li><a href=https://namc.in/posts/cloud-observability-ii/>How you can use some bare-minimum tooling to improve observability in your kubernetes cluster</a></li></ol><h2 id=terminologies-in-observability-ecosystem>Terminologies in Observability Ecosystem<a href=#terminologies-in-observability-ecosystem class=hanchor arialabel=Anchor>&#8983;</a></h2><p>With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS & Network monitoring, as well as capturing telemetry and kubernetes events.</p><p>On the CNCF landscape, numerous tools are available but it is often hard to find the right tools for the right job. This process can also be overwhelming.</p><p>Let’s begin with understanding some fundamental concepts in the universe of observability -</p><h3 id=monitoring>Monitoring<a href=#monitoring class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>Questions like - &ldquo;What&rsquo;s happening currently?&rdquo; and “is my service behaving abnormally right now?”</li><li>Metrics gathered from application and services are observed.</li><li>Usually warrants usage of dashboards and a query language interface to generate reports.</li><li>Observable containers are imperative to implement cluster-wide monitoring.</li><li>Sample usage would be - “what even caused a sudden spike in CPU usage?”</li><li>Suggested tools :<ul><li>Prometheus</li><li>Sysdig</li><li>Cloudwatch metrics in AWS</li></ul></li></ul><h3 id=alerting>Alerting<a href=#alerting class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>This step is critical. Since we cannot keep a constant watch over each metric that we capture, we setup an alerting mechanism which compares present metric data with a user-defined or AI-assisted thresholds</li><li>Alerting usually calls for an action by system maintainers.</li><li>This is implemented and configured on an infrastructure level.</li><li>Sample usage would be - the monitoring system observed that 20 requests in last 1 minute took more than 10ms as opposed to 5ms on average, hence, a human should be alerted to check the system health.</li><li>Suggested tools -<ul><li>PagerDuty</li><li>Alerting tools integrated in public cloud providers. (SNS)</li><li>Uptime</li></ul></li></ul><h3 id=logging>Logging<a href=#logging class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>Implemented on application level, it refers to responsible behaviour of the developer and application to make a note of all necessary and relevant information in a workflow.</li><li>Implemented on system level, it an indication of all the events triggered by the system when a workflow is executed.</li><li>There are multiple log levels - debug, error, fatal, info. They should be enforced in the business logic (application code) to improve visibility within the application.</li><li>Logs are very useful to debug applications and services without stopping them and determining if the workflow is broken somewhere.</li><li>Logs are often routed to ELK stack, sentry.io etc ; combined across services with a unique context ID and an query language interface is provided to get logs pertaining to a particular function call or context ID.</li><li>Sample usage would be - logging all steps involved when an http request is initiated, i.e. the request payload as debug log, an exception or external service error as Error logs</li><li>Suggested tools -<ul><li>ELK stack</li><li>Loki log framework</li><li>Cloud provider specific tools<ul><li>Azure Monitor</li><li>AWS Centralized Logging</li><li>Google Cloud Stackdriver Logging</li></ul></li></ul></li></ul><h3 id=tracing>Tracing<a href=#tracing class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>Tracing is in-line with logging but it is constrained by single workflow as opposed to application-wide logging.</li><li>Cases where you want to trace all function call made when a workflow is triggered, starting from audit logs to variable initialization, class instance being created to final result of success or error.</li><li>Traces are important for developers who want to capture multiple transformation of input payloads within their services, thereby providing visibility over how the business logic behaves.</li><li>Sample usage would be - &ldquo;A single users&rsquo; (or a small sample set) journey across the software (it can be part/whole of multiple software in a larger system too). this is to identify what the action flow is and how is it impacted in normal vs error-prone cases&rdquo;</li><li>Suggested tools -<ul><li>Jaeger Tracing</li><li>OpenTracing framework for cloud apps</li><li>Zipkin</li><li>Sentry.io for error tracing</li></ul></li></ul><h3 id=telemetry>Telemetry<a href=#telemetry class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>Telemetry provides an overview of how your services interact with each other.</li><li>If you have 20 microservices in a cluster that communicate with each other using HTTP or GRPC or queues, telemetry software would lay out the network topology which depicts which service is dependent on which other service for communication.</li><li>In a distributed system, telemetry helps in debugging network workflows and bottlenecks, and also helps in optimizing network iops.</li><li>Suggested tools -<ul><li>For capturing :<ul><li>Riemann</li><li>Fluentd</li><li>Collectd</li></ul></li><li>For visualization :<ul><li>Grafana</li><li>Kibana</li></ul></li><li>Third-party vendors :<ul><li>Datadog</li><li>Dynatrace</li><li>New Relic</li></ul></li></ul></li></ul><p><a href=https://namc.in/posts/cloud-observability-ii/>In next part, we will learn how to use some of these tools to obtain a basic level of observability in your kuubernetes cluster.</a></p><p>Special thanks to <a href=https://acsrujan.net/monitoring-and-siblings/>Srujan&rsquo;s blog post</a> for motivation</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/cloud-observability-ii/><span class=button__icon>←</span>
<span class=button__text>Using the right tools for an Observablble Kubernetes Cluster</span></a></span>
<span class="button next"><a href=/posts/retries-timeouts-backoff/><span class=button__text>Retries, Timeouts and Backoff</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Blog by Namrata Chaudhary</span></div></div></footer><script src=/assets/main.js></script><script src=/assets/prism.js></script></div></body></html>
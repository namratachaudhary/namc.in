<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.64.1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="__namc"><meta property="og:url" content="/posts/cloud-observability/"><link rel=canonical href=/posts/cloud-observability/><link rel=alternate type=application/atom+xml href=/index.xml title="Namc's blog - Tech, Food, Skincare"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"\/"},"articleSection":"posts","name":"Understanding Observability (and the family) in Cloud Infrastructure","headline":"Understanding Observability (and the family) in Cloud Infrastructure","description":"This blog post is divided in two parts -\n Understanding the terminlogies in Observability Ecosystem and corresponding tools How you can use some bare-minimum tooling to improve observability in your kubernetes cluster  Terminologies in Observability Ecosystem With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS \x26amp; Network monitoring, as well as capturing telemetry and kubernetes events.","inLanguage":"en-US","author":"__namc","creator":"__namc","publisher":"__namc","accountablePerson":"__namc","copyrightHolder":"__namc","copyrightYear":"2020","datePublished":"2020-05-11 16:25:12 \x2b0200 \x2b0200","dateModified":"2020-05-11 16:25:12 \x2b0200 \x2b0200","url":"\/posts\/cloud-observability\/","keywords":["Devops"]}</script><title>Understanding Observability (and the family) in Cloud Infrastructure - Namc's blog - Tech, Food, Skincare</title><meta property="og:title" content="Understanding Observability (and the family) in Cloud Infrastructure - Namc's blog - Tech, Food, Skincare"><meta property="og:type" content="article"><meta property="og:description" content="This blog post is divided in two parts -
 Understanding the terminlogies in Observability Ecosystem and corresponding tools How you can use some bare-minimum tooling to improve observability in your kubernetes cluster  Terminologies in Observability Ecosystem With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS & Network monitoring, as well as capturing telemetry and kubernetes events."><meta name=description content="This blog post is divided in two parts -
 Understanding the terminlogies in Observability Ecosystem and corresponding tools How you can use some bare-minimum tooling to improve observability in your kubernetes cluster  Terminologies in Observability Ecosystem With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS & Network monitoring, as well as capturing telemetry and kubernetes events."><meta property="og:locale" content="en-us"><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/highlight/tomorrow.min.css><link rel=stylesheet href=/css/index.css><link href=/index.xml rel=alternate type=application/rss+xml title="Namc's blog - Tech, Food, Skincare"><link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel=stylesheet></head><body><article class=post id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class="signatures site-title"><a href=/>__namc</a></div></header><div class="row end-xs"></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>Understanding Observability (and the family) in Cloud Infrastructure</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2020-05-11 16:25:12 +0200">11 May 2020</time></div><div class=col-xs-6><div class=post-author><a target=_blank href=https://namc.in/>@__namc</a></div></div></div></header><div class="post-content markdown-body"><p>This blog post is divided in two parts -</p><ol><li><a href=#terminologies-in-observability-ecosystem>Understanding the terminlogies in Observability Ecosystem and corresponding tools</a></li><li><a href=https://namc.in/posts/cloud-observability-ii/>How you can use some bare-minimum tooling to improve observability in your kubernetes cluster</a></li></ol><h2 id=terminologies-in-observability-ecosystem>Terminologies in Observability Ecosystem</h2><p>With a huge shift towards Kubernetes and therefore, a distributed systems service architecture, we see a constant need to have solid observability practices. This ranges from application-level monitoring to OS & Network monitoring, as well as capturing telemetry and kubernetes events.</p><p>On the CNCF landscape, numerous tools are available but it is often hard to find the right tools for the right job. This process can also be overwhelming.</p><p>Let’s begin with understanding some fundamental concepts in the universe of observability -</p><h3 id=monitoring>Monitoring</h3><ul><li>Questions like - &ldquo;What&rsquo;s happening currently?&rdquo; and “is my service behaving abnormally right now?”</li><li>Metrics gathered from application and services are observed.</li><li>Usually warrants usage of dashboards and a query language interface to generate reports.</li><li>Observable containers are imperative to implement cluster-wide monitoring.</li><li>Sample usage would be - “what even caused a sudden spike in CPU usage?”</li><li>Suggested tools :<ul><li>Prometheus</li><li>Sysdig</li><li>Cloudwatch metrics in AWS</li></ul></li></ul><h3 id=alerting>Alerting</h3><ul><li>This step is critical. Since we cannot keep a constant watch over each metric that we capture, we setup an alerting mechanism which compares present metric data with a user-defined or AI-assisted thresholds</li><li>Alerting usually calls for an action by system maintainers.</li><li>This is implemented and configured on an infrastructure level.</li><li>Sample usage would be - the monitoring system observed that 20 requests in last 1 minute took more than 10ms as opposed to 5ms on average, hence, a human should be alerted to check the system health.</li><li>Suggested tools -<ul><li>PagerDuty</li><li>Alerting tools integrated in public cloud providers. (SNS)</li><li>Uptime</li></ul></li></ul><h3 id=logging>Logging</h3><ul><li>Implemented on application level, it refers to responsible behaviour of the developer and application to make a note of all necessary and relevant information in a workflow.</li><li>Implemented on system level, it is an indication of all the events triggered by the system when a workflow is executed.</li><li>There are multiple log levels - debug, error, fatal, info. They should be enforced in the business logic (application code) to improve visibility within the application.</li><li>Logs are very useful to debug applications and services without stopping them and determining if the workflow is broken somewhere.</li><li>Logs are often routed to ELK stack, sentry.io etc ; combined across services with a unique context ID and a query language interface is provided to get logs pertaining to a particular function call or context ID.</li><li>Sample usage would be - logging all steps involved when an http request is initiated, i.e. the request payload as debug log, an exception or external service error as Error logs</li><li>Suggested tools -<ul><li>ELK stack</li><li>Loki log framework</li><li>Cloud provider specific tools<ul><li>Azure Monitor</li><li>AWS Centralized Logging</li><li>Google Cloud Stackdriver Logging</li></ul></li></ul></li></ul><h3 id=tracing>Tracing</h3><ul><li>Tracing is in-line with logging but it is constrained by single workflow as opposed to application-wide logging.</li><li>Cases where you want to trace all function call made when a workflow is triggered, starting from audit logs to variable initialization, class instance being created to final result of success or error.</li><li>Traces are important for developers who want to capture multiple transformation of input payloads within their services, thereby providing visibility over how the business logic behaves.</li><li>Sample usage would be - &ldquo;A single users&rsquo; (or a small sample set) journey across the software (it can be part/whole of multiple software in a larger system too). this is to identify what the action flow is and how is it impacted in normal vs error-prone cases&rdquo;</li><li>Suggested tools -<ul><li>Jaeger Tracing</li><li>OpenTracing framework for cloud apps</li><li>Zipkin</li><li>Sentry.io for error tracing</li></ul></li></ul><h3 id=telemetry>Telemetry</h3><ul><li>Telemetry provides an overview of how your services interact with each other.</li><li>If you have 20 microservices in a cluster that communicate with each other using HTTP or GRPC or queues, telemetry software would lay out the network topology which depicts which service is dependent on which other service for communication.</li><li>In a distributed system, telemetry helps in debugging network workflows and bottlenecks, and also helps in optimizing network iops.</li><li>Suggested tools -<ul><li>For capturing :<ul><li>Riemann</li><li>Fluentd</li><li>Collectd</li></ul></li><li>For visualization :<ul><li>Grafana</li><li>Kibana</li></ul></li><li>Third-party vendors :<ul><li>Datadog</li><li>Dynatrace</li><li>New Relic</li></ul></li></ul></li></ul><p><a href=https://namc.in/posts/cloud-observability-ii/>In next part, we will learn how to use some of these tools to obtain a basic level of observability in your kuubernetes cluster.</a></p><p>Special thanks to <a href=https://acsrujan.net/monitoring-and-siblings/>Srujan&rsquo;s blog post</a> for motivation</p></div><div class="row middle-xs"><div class=col-xs-12></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=site-footer><div class=site-footer-item><a href=/index.xml target=_blank>RSS</a></div><div class=site-footer-item><a href=https://namc.in target=_blank>About</a></div><div class=site-footer-item><a href=https://github.com/namratachaudhary target=_blank>Github</a></div><div class=site-footer-item><a href=https://www.linkedin.com/in/namrata-c-542b8a56/ target=_blank>LinkedIn</a></div></div></div></div></article><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>